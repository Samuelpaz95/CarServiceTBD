-- Adminer 4.8.1 MySQL 5.7.37 dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

INSTALL PLUGIN mysqlx SONAME 'mysqlx.so';

DROP DATABASE IF EXISTS `carservices_db`;
CREATE DATABASE `carservices_db` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE `carservices_db`;

DELIMITER ;;

CREATE PROCEDURE `getTotalCost`()
BEGIN
INSERT INTO Invoice (diagnosis_id, total_const)
SELECT Diagnosis.id,
  sum(standar_price) + sum(total_usage_cost) + sum(COALESCE(spare_cost, 0)) + sum(COALESCE(supplies_cost, 0)) AS total_cost
FROM Diagnosis
  INNER JOIN (
    SELECT standar_price,
      Repair.diagnosis_id,
      COALESCE(usage_cost, 0) * COALESCE(usage_count, 1) AS total_usage_cost
    FROM Repair
      INNER JOIN Repair_type ON Repair_type.id = repair_type_id
      LEFT JOIN Task ON Task.repair_id = Repair.id
      LEFT JOIN Repair_equipment_task AS RET ON RET.task_id = Task.id
      LEFT JOIN (
        SELECT id,
          usage_cost
        FROM Repair_equipment
      ) AS RE ON RE.id = RET.repair_equipment_id
  ) rep ON rep.diagnosis_id = Diagnosis.id
  LEFT JOIN (
    SELECT diagnosis_id,
      count * unit_price AS spare_cost
    FROM Diagnosis_spare
      INNER JOIN Spare ON Spare.id = spare_id
  ) AS spares ON spares.diagnosis_id = Diagnosis.id
  LEFT JOIN (
    SELECT diagnosis_id,
      count * unit_price AS supplies_cost
    FROM Diagnosis_supplie
      INNER JOIN Spare ON Spare.id = supplie_id
  ) AS supplies ON supplies.diagnosis_id = Diagnosis.id
  AND completion_date IS NOT NULL
WHERE Diagnosis.completion_date IS NOT NULL
GROUP BY Diagnosis.id
ON DUPLICATE KEY UPDATE total_const=total_const;
END;;

DELIMITER ;

DROP TABLE IF EXISTS `Assigned_to`;
CREATE TABLE `Assigned_to` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `employee_id` int(11) NOT NULL,
  `workshift_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `employee_id` (`employee_id`),
  KEY `workshift_id` (`workshift_id`),
  CONSTRAINT `Assigned_to_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `Employee` (`CI`) ON DELETE CASCADE,
  CONSTRAINT `Assigned_to_ibfk_2` FOREIGN KEY (`workshift_id`) REFERENCES `Workshift` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=42 DEFAULT CHARSET=latin1;

INSERT INTO `Assigned_to` (`id`, `date`, `employee_id`, `workshift_id`) VALUES
(1,	'2022-04-01 17:03:10',	1,	2),
(2,	'2020-03-06 15:47:48',	2,	2),
(3,	'2019-01-12 05:26:12',	3,	2),
(4,	'2019-05-09 05:25:31',	4,	2),
(5,	'2023-02-19 12:39:53',	5,	3),
(6,	'2023-04-13 21:24:19',	6,	2),
(7,	'2023-03-31 07:35:20',	7,	1),
(8,	'2022-07-27 19:24:00',	8,	3),
(9,	'2017-12-12 12:30:07',	9,	2),
(10,	'2019-05-13 00:33:04',	10,	3),
(11,	'2022-08-21 19:13:44',	11,	1),
(12,	'2023-02-21 17:26:14',	12,	2),
(13,	'2022-07-04 18:40:18',	13,	2),
(14,	'2020-06-26 00:04:42',	14,	2),
(15,	'2021-07-06 21:38:44',	15,	3),
(16,	'2022-07-29 15:50:19',	16,	2),
(17,	'2016-07-07 08:01:24',	17,	2),
(18,	'2017-12-02 07:42:17',	18,	2),
(19,	'2020-09-24 05:47:38',	19,	3),
(20,	'2017-10-09 07:47:58',	20,	1),
(21,	'2020-03-18 10:28:22',	21,	3),
(22,	'2021-03-03 21:38:51',	22,	3),
(23,	'2017-11-25 20:29:06',	23,	3),
(24,	'2021-03-22 02:22:04',	24,	2),
(25,	'2022-01-11 15:17:05',	25,	2),
(26,	'2018-12-20 03:30:45',	26,	2),
(27,	'2022-10-21 22:48:19',	27,	3),
(28,	'2019-06-16 13:19:56',	28,	2),
(29,	'2021-11-05 12:48:51',	29,	2),
(30,	'2023-03-23 10:10:58',	30,	2),
(31,	'2020-08-02 22:48:18',	31,	1),
(32,	'2017-01-12 03:59:31',	32,	2),
(33,	'2019-10-01 13:50:57',	33,	2),
(34,	'2022-11-02 12:06:51',	34,	1),
(35,	'2016-08-24 07:03:48',	35,	3),
(36,	'2019-06-02 08:34:32',	36,	1),
(37,	'2016-08-30 19:49:34',	37,	1),
(38,	'2017-03-13 21:39:14',	38,	2),
(39,	'2022-07-30 07:53:52',	39,	2),
(40,	'2016-05-18 17:26:01',	40,	1),
(41,	'2018-10-12 08:32:31',	41,	2);

DROP TABLE IF EXISTS `Assistance`;
CREATE TABLE `Assistance` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `checkin_time` time NOT NULL,
  `checkout_time` time NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `employee_id` int(11) NOT NULL,
  `assigned_to_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `employee_id` (`employee_id`),
  KEY `assigned_to_id` (`assigned_to_id`),
  CONSTRAINT `Assistance_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `Employee` (`CI`) ON DELETE CASCADE,
  CONSTRAINT `Assistance_ibfk_2` FOREIGN KEY (`assigned_to_id`) REFERENCES `Assigned_to` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=201 DEFAULT CHARSET=latin1;

INSERT INTO `Assistance` (`id`, `checkin_time`, `checkout_time`, `date`, `employee_id`, `assigned_to_id`) VALUES
(1,	'10:23:19',	'15:45:39',	'2019-01-10 01:15:13',	9,	9),
(2,	'09:46:48',	'14:57:47',	'2019-03-29 23:08:52',	12,	12),
(3,	'08:11:47',	'16:00:12',	'2021-05-20 01:33:28',	15,	15),
(4,	'09:12:27',	'18:47:08',	'2019-05-31 02:35:21',	24,	24),
(5,	'09:08:50',	'14:18:06',	'2020-11-23 06:04:07',	9,	9),
(6,	'11:17:47',	'16:13:48',	'2019-06-27 20:08:56',	13,	13),
(7,	'11:30:00',	'16:25:42',	'2022-12-16 05:14:03',	39,	39),
(8,	'12:44:21',	'13:34:37',	'2018-06-03 08:34:31',	8,	8),
(9,	'11:21:56',	'18:37:20',	'2021-08-13 21:20:19',	5,	5),
(10,	'09:58:54',	'16:32:21',	'2018-10-05 20:14:51',	12,	12),
(11,	'11:51:45',	'13:34:11',	'2018-02-10 23:26:29',	16,	16),
(12,	'08:44:00',	'18:21:41',	'2018-12-03 10:21:23',	33,	33),
(13,	'11:05:37',	'16:40:10',	'2023-03-18 23:13:26',	8,	8),
(14,	'09:34:56',	'17:15:43',	'2018-03-14 09:23:42',	5,	5),
(15,	'11:56:14',	'17:38:22',	'2022-08-28 02:41:48',	27,	27),
(16,	'09:42:55',	'15:57:45',	'2021-03-06 23:39:56',	24,	24),
(17,	'11:52:53',	'17:37:55',	'2017-07-01 19:43:34',	32,	32),
(18,	'08:02:23',	'16:22:00',	'2023-02-21 12:19:47',	40,	40),
(19,	'11:33:50',	'15:32:08',	'2019-01-17 21:23:44',	8,	8),
(20,	'08:12:20',	'18:53:59',	'2018-09-05 15:14:32',	35,	35),
(21,	'09:14:49',	'18:16:03',	'2018-10-22 10:16:26',	2,	2),
(22,	'11:00:53',	'15:47:41',	'2017-10-13 06:34:44',	14,	14),
(23,	'12:41:47',	'17:47:45',	'2017-02-16 19:37:28',	20,	20),
(24,	'10:55:59',	'14:10:22',	'2022-12-11 03:04:03',	32,	32),
(25,	'09:38:37',	'13:17:36',	'2021-02-25 14:47:44',	7,	7),
(26,	'10:07:16',	'18:47:23',	'2022-10-20 07:26:16',	15,	15),
(27,	'11:38:21',	'15:33:53',	'2021-06-18 09:45:46',	31,	31),
(28,	'12:04:16',	'14:04:09',	'2022-02-07 13:09:23',	1,	1),
(29,	'11:58:52',	'13:12:21',	'2020-06-24 07:13:23',	6,	6),
(30,	'12:28:26',	'14:27:22',	'2022-06-16 12:20:22',	20,	20),
(31,	'10:11:33',	'14:05:28',	'2020-03-21 21:13:55',	18,	18),
(32,	'11:13:58',	'16:14:54',	'2022-03-23 07:50:43',	22,	22),
(33,	'10:14:03',	'15:53:40',	'2021-02-28 06:50:03',	37,	37),
(34,	'10:37:06',	'18:47:58',	'2020-08-13 10:00:31',	19,	19),
(35,	'12:04:20',	'18:39:38',	'2022-04-25 18:53:59',	30,	30),
(36,	'12:30:33',	'18:20:08',	'2022-12-22 22:17:11',	23,	23),
(37,	'09:22:08',	'18:29:13',	'2020-08-01 01:39:01',	24,	24),
(38,	'09:07:54',	'17:19:33',	'2017-08-06 10:36:19',	20,	20),
(39,	'10:52:54',	'14:12:42',	'2018-02-06 21:12:35',	15,	15),
(40,	'08:53:34',	'15:40:29',	'2021-11-13 22:45:20',	20,	20),
(41,	'12:41:57',	'14:14:19',	'2021-08-26 05:13:52',	3,	3),
(42,	'12:34:09',	'16:09:52',	'2019-09-22 13:55:12',	13,	13),
(43,	'08:16:04',	'13:12:49',	'2019-07-19 13:31:02',	27,	27),
(44,	'11:50:26',	'13:29:05',	'2020-06-20 11:05:49',	22,	22),
(45,	'10:31:03',	'18:04:50',	'2022-09-08 15:22:21',	37,	37),
(46,	'09:58:35',	'14:13:00',	'2021-04-18 08:42:48',	4,	4),
(47,	'09:19:12',	'14:58:18',	'2017-07-16 10:28:46',	15,	15),
(48,	'11:21:50',	'18:29:18',	'2021-11-22 07:26:18',	23,	23),
(49,	'09:01:57',	'18:32:55',	'2018-08-17 11:54:00',	19,	19),
(50,	'11:26:53',	'14:20:38',	'2020-09-20 03:43:25',	7,	7),
(51,	'10:44:09',	'15:27:22',	'2019-10-16 22:54:14',	5,	5),
(52,	'10:13:13',	'18:13:20',	'2017-04-20 09:46:05',	5,	5),
(53,	'12:28:24',	'15:59:53',	'2017-03-24 19:10:57',	31,	31),
(54,	'10:53:41',	'17:02:52',	'2018-10-15 14:58:14',	10,	10),
(55,	'10:33:12',	'13:54:24',	'2022-11-23 00:53:28',	19,	19),
(56,	'12:00:56',	'14:38:58',	'2022-06-22 13:15:52',	15,	15),
(57,	'08:09:25',	'14:19:51',	'2020-05-26 02:11:40',	28,	28),
(58,	'12:32:13',	'14:50:53',	'2022-10-09 00:51:48',	30,	30),
(59,	'08:56:25',	'15:22:20',	'2020-08-18 20:47:36',	15,	15),
(60,	'12:13:44',	'13:02:14',	'2017-06-13 03:04:32',	26,	26),
(61,	'10:41:02',	'18:11:12',	'2022-08-01 02:53:54',	29,	29),
(62,	'10:48:13',	'17:01:53',	'2017-11-23 17:09:15',	27,	27),
(63,	'12:14:40',	'15:14:36',	'2019-04-10 14:03:48',	9,	9),
(64,	'11:36:12',	'16:41:22',	'2016-12-31 08:36:46',	26,	26),
(65,	'09:56:10',	'13:32:09',	'2017-02-03 10:02:16',	19,	19),
(66,	'08:51:30',	'17:22:05',	'2023-02-13 03:02:06',	30,	30),
(67,	'09:21:46',	'16:25:18',	'2022-10-09 06:22:17',	34,	34),
(68,	'09:29:53',	'15:18:29',	'2019-01-31 04:11:57',	3,	3),
(69,	'08:04:15',	'18:03:28',	'2016-07-12 03:28:51',	26,	26),
(70,	'09:32:07',	'17:54:27',	'2019-06-29 10:10:03',	40,	40),
(71,	'12:13:51',	'13:48:44',	'2019-06-13 00:49:30',	23,	23),
(72,	'12:21:07',	'17:35:13',	'2018-06-05 06:35:24',	7,	7),
(73,	'12:26:47',	'16:08:29',	'2022-01-01 05:02:04',	25,	25),
(74,	'08:42:02',	'14:36:18',	'2019-03-30 04:23:22',	35,	35),
(75,	'12:09:42',	'13:52:23',	'2022-02-04 15:34:32',	16,	16),
(76,	'12:59:31',	'17:54:52',	'2021-02-11 05:28:55',	23,	23),
(77,	'10:57:54',	'15:07:10',	'2021-03-20 22:46:00',	20,	20),
(78,	'08:59:23',	'15:53:07',	'2021-05-14 23:22:48',	7,	7),
(79,	'11:41:12',	'14:35:27',	'2021-02-20 12:05:35',	3,	3),
(80,	'10:12:01',	'16:26:20',	'2021-03-23 15:44:44',	10,	10),
(81,	'12:49:00',	'13:20:02',	'2022-09-12 05:44:20',	21,	21),
(82,	'11:59:52',	'17:34:40',	'2018-12-20 10:05:38',	33,	33),
(83,	'09:51:20',	'14:32:48',	'2021-08-30 02:35:30',	13,	13),
(84,	'12:52:20',	'15:06:02',	'2018-01-18 13:06:19',	13,	13),
(85,	'10:28:51',	'18:35:19',	'2018-09-24 17:49:07',	32,	32),
(86,	'10:01:00',	'18:33:28',	'2021-06-01 16:11:23',	32,	32),
(87,	'08:59:42',	'15:09:28',	'2022-01-11 19:26:36',	36,	36),
(88,	'12:39:25',	'16:47:50',	'2020-02-11 22:43:16',	3,	3),
(89,	'11:31:25',	'16:48:34',	'2019-01-06 09:11:59',	29,	29),
(90,	'12:21:18',	'14:25:42',	'2021-02-07 23:51:06',	6,	6),
(91,	'11:23:42',	'17:23:03',	'2019-12-28 15:36:24',	29,	29),
(92,	'08:40:01',	'14:12:53',	'2018-02-09 04:35:04',	6,	6),
(93,	'08:35:54',	'13:18:09',	'2019-06-03 06:19:00',	25,	25),
(94,	'12:01:07',	'18:16:22',	'2021-08-30 20:12:37',	4,	4),
(95,	'09:55:56',	'18:22:36',	'2017-04-06 01:19:44',	26,	26),
(96,	'09:07:52',	'17:39:38',	'2019-07-22 08:39:56',	5,	5),
(97,	'08:13:06',	'14:27:15',	'2020-02-22 06:18:51',	12,	12),
(98,	'09:06:51',	'15:28:12',	'2019-07-03 22:19:25',	4,	4),
(99,	'10:39:18',	'16:10:17',	'2019-10-02 09:01:02',	21,	21),
(100,	'11:05:41',	'13:36:25',	'2022-03-18 02:53:17',	31,	31),
(101,	'11:31:47',	'18:47:32',	'2019-11-13 14:03:13',	22,	22),
(102,	'10:11:41',	'16:28:08',	'2020-05-23 10:28:18',	2,	2),
(103,	'10:53:07',	'18:29:21',	'2022-11-26 00:35:42',	38,	38),
(104,	'12:00:38',	'17:19:47',	'2019-06-02 23:03:49',	17,	17),
(105,	'12:21:50',	'18:31:33',	'2022-02-16 06:55:35',	1,	1),
(106,	'09:49:48',	'13:44:36',	'2021-02-18 05:41:19',	11,	11),
(107,	'10:59:41',	'18:25:39',	'2019-11-17 07:49:08',	19,	19),
(108,	'08:03:15',	'13:09:26',	'2016-11-26 18:19:02',	31,	31),
(109,	'09:52:23',	'16:41:38',	'2018-12-31 20:25:02',	9,	9),
(110,	'08:18:48',	'15:09:58',	'2022-04-07 02:35:45',	30,	30),
(111,	'10:39:44',	'16:39:02',	'2018-01-19 22:12:02',	29,	29),
(112,	'10:26:40',	'16:10:29',	'2023-04-23 12:48:48',	37,	37),
(113,	'11:38:43',	'13:35:22',	'2018-12-30 07:38:29',	38,	38),
(114,	'11:43:59',	'18:51:29',	'2023-04-19 20:27:49',	37,	37),
(115,	'08:23:40',	'14:41:01',	'2018-10-18 20:36:03',	40,	40),
(116,	'12:14:43',	'15:03:21',	'2020-04-09 04:50:40',	37,	37),
(117,	'11:51:21',	'15:27:03',	'2021-08-08 16:40:12',	30,	30),
(118,	'10:11:51',	'18:08:23',	'2019-01-28 01:11:23',	35,	35),
(119,	'12:55:07',	'18:10:02',	'2023-04-08 17:56:06',	38,	38),
(120,	'08:08:30',	'14:43:14',	'2017-06-29 18:38:16',	38,	38),
(121,	'10:29:20',	'14:25:05',	'2019-03-14 17:09:31',	11,	11),
(122,	'08:05:26',	'14:10:54',	'2018-03-18 22:37:03',	37,	37),
(123,	'08:40:13',	'17:36:33',	'2016-09-12 10:43:07',	14,	14),
(124,	'11:31:41',	'16:42:44',	'2021-04-10 04:35:40',	9,	9),
(125,	'08:28:40',	'17:20:27',	'2017-01-18 11:30:33',	23,	23),
(126,	'08:53:27',	'17:26:51',	'2019-03-19 02:02:23',	38,	38),
(127,	'09:21:18',	'13:53:43',	'2021-06-02 08:15:49',	11,	11),
(128,	'09:45:50',	'14:38:22',	'2022-01-25 23:58:05',	22,	22),
(129,	'12:04:48',	'13:09:06',	'2022-05-08 06:36:18',	3,	3),
(130,	'08:15:12',	'14:30:21',	'2016-12-16 16:02:24',	6,	6),
(131,	'09:15:36',	'17:52:54',	'2020-04-08 19:19:18',	14,	14),
(132,	'08:26:21',	'16:59:08',	'2018-09-23 11:26:58',	34,	34),
(133,	'08:43:16',	'14:31:37',	'2022-10-13 19:29:08',	5,	5),
(134,	'10:16:16',	'18:55:32',	'2019-11-15 14:55:23',	4,	4),
(135,	'08:49:06',	'15:30:30',	'2020-06-18 03:52:16',	20,	20),
(136,	'12:48:08',	'15:59:39',	'2021-06-19 17:43:18',	11,	11),
(137,	'10:09:30',	'17:59:17',	'2022-12-20 09:18:18',	2,	2),
(138,	'08:22:37',	'14:10:17',	'2019-05-04 15:30:08',	13,	13),
(139,	'12:51:47',	'17:36:36',	'2022-08-19 08:29:46',	24,	24),
(140,	'10:28:39',	'13:54:15',	'2023-01-09 11:21:08',	20,	20),
(141,	'11:24:30',	'16:37:04',	'2021-11-14 15:50:23',	20,	20),
(142,	'08:11:16',	'14:43:56',	'2017-10-23 17:21:53',	28,	28),
(143,	'12:16:39',	'13:29:54',	'2016-09-19 02:35:33',	40,	40),
(144,	'12:16:13',	'14:43:13',	'2020-03-20 19:09:52',	20,	20),
(145,	'09:40:19',	'13:39:32',	'2019-12-27 07:29:54',	32,	32),
(146,	'09:10:39',	'16:17:24',	'2018-01-24 13:27:27',	13,	13),
(147,	'11:59:12',	'13:08:23',	'2019-11-18 12:16:13',	11,	11),
(148,	'09:39:16',	'18:19:45',	'2019-05-08 11:30:35',	8,	8),
(149,	'10:38:44',	'17:43:36',	'2019-09-12 03:50:39',	23,	23),
(150,	'11:18:43',	'17:03:40',	'2022-03-01 11:45:44',	27,	27),
(151,	'12:56:31',	'14:15:55',	'2023-02-01 14:43:27',	34,	34),
(152,	'08:19:16',	'14:01:21',	'2018-04-10 03:56:39',	31,	31),
(153,	'09:45:45',	'13:12:25',	'2019-06-27 03:16:16',	19,	19),
(154,	'11:38:50',	'18:55:08',	'2018-02-26 15:17:50',	13,	13),
(155,	'08:28:33',	'16:12:21',	'2023-01-23 04:48:44',	37,	37),
(156,	'10:28:49',	'14:11:04',	'2019-05-14 19:14:39',	22,	22),
(157,	'08:14:04',	'14:24:47',	'2018-08-04 08:00:49',	21,	21),
(158,	'10:29:46',	'15:39:25',	'2016-10-21 07:32:43',	32,	32),
(159,	'11:25:22',	'16:18:11',	'2019-11-24 21:35:26',	12,	12),
(160,	'08:09:46',	'15:02:57',	'2021-11-15 19:08:13',	22,	22),
(161,	'12:03:10',	'13:17:44',	'2020-02-21 01:52:26',	33,	33),
(162,	'12:31:00',	'18:39:45',	'2018-09-22 16:30:13',	29,	29),
(163,	'08:29:28',	'18:44:52',	'2017-02-12 20:58:26',	24,	24),
(164,	'12:50:59',	'18:44:23',	'2019-08-27 21:55:07',	37,	37),
(165,	'09:37:05',	'13:48:13',	'2020-04-27 10:05:28',	33,	33),
(166,	'12:21:57',	'18:57:48',	'2021-01-07 05:07:11',	26,	26),
(167,	'09:49:00',	'13:18:00',	'2016-09-03 16:39:03',	41,	41),
(168,	'10:57:55',	'13:40:14',	'2021-10-02 00:45:44',	11,	11),
(169,	'08:22:17',	'18:35:45',	'2017-06-15 20:56:29',	5,	5),
(170,	'08:32:16',	'17:00:37',	'2021-06-16 14:32:34',	12,	12),
(171,	'08:51:39',	'13:06:27',	'2022-12-26 23:32:27',	35,	35),
(172,	'12:01:09',	'16:38:17',	'2021-08-11 12:57:30',	31,	31),
(173,	'09:04:21',	'14:44:56',	'2022-12-14 20:15:28',	20,	20),
(174,	'12:36:29',	'14:22:01',	'2021-05-31 03:03:12',	7,	7),
(175,	'09:32:18',	'14:17:08',	'2018-01-18 17:31:14',	7,	7),
(176,	'09:47:47',	'16:47:46',	'2020-10-24 21:41:36',	36,	36),
(177,	'09:56:02',	'17:26:28',	'2023-02-25 04:55:47',	25,	25),
(178,	'10:04:10',	'13:32:09',	'2020-12-21 10:32:58',	18,	18),
(179,	'12:25:03',	'15:15:31',	'2018-04-12 09:13:18',	24,	24),
(180,	'11:54:21',	'15:54:28',	'2022-11-29 13:32:48',	31,	31),
(181,	'09:41:39',	'14:38:19',	'2019-09-05 12:27:20',	6,	6),
(182,	'08:21:57',	'18:03:13',	'2021-12-12 10:28:36',	24,	24),
(183,	'09:22:05',	'18:28:00',	'2020-03-28 02:22:38',	11,	11),
(184,	'11:31:32',	'18:57:43',	'2017-06-12 02:35:16',	33,	33),
(185,	'12:03:20',	'13:53:00',	'2022-02-07 04:30:31',	37,	37),
(186,	'09:28:18',	'13:22:35',	'2016-09-23 04:50:40',	3,	3),
(187,	'11:32:47',	'13:52:28',	'2020-08-02 19:55:01',	28,	28),
(188,	'10:10:10',	'14:32:19',	'2017-08-10 17:36:17',	28,	28),
(189,	'10:33:08',	'17:54:18',	'2017-07-23 13:36:26',	5,	5),
(190,	'09:56:09',	'14:05:26',	'2018-04-03 13:55:30',	21,	21),
(191,	'10:48:02',	'17:01:27',	'2018-01-21 21:27:12',	25,	25),
(192,	'10:39:28',	'18:24:17',	'2016-07-20 04:36:48',	8,	8),
(193,	'09:41:11',	'16:08:44',	'2020-02-19 15:42:54',	18,	18),
(194,	'12:42:33',	'16:10:08',	'2019-08-05 21:31:50',	7,	7),
(195,	'12:10:40',	'14:45:17',	'2017-03-22 15:16:42',	13,	13),
(196,	'09:30:11',	'17:15:12',	'2020-05-12 09:25:47',	22,	22),
(197,	'08:57:03',	'13:36:57',	'2022-01-04 02:05:33',	26,	26),
(198,	'12:13:34',	'13:50:11',	'2017-07-30 08:22:08',	19,	19),
(199,	'11:57:59',	'17:35:38',	'2021-07-11 07:55:30',	14,	14),
(200,	'11:15:18',	'13:53:55',	'2018-05-15 17:29:00',	31,	31);

DROP TABLE IF EXISTS `Client`;
CREATE TABLE `Client` (
  `CI` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(255) NOT NULL,
  `last_name` varchar(255) NOT NULL,
  `phone_number` int(11) NOT NULL,
  `email` varchar(255) NOT NULL,
  `client_type` varchar(1) DEFAULT NULL,
  PRIMARY KEY (`CI`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;

INSERT INTO `Client` (`CI`, `first_name`, `last_name`, `phone_number`, `email`, `client_type`) VALUES
(1,	'Carlos',	'Sejas',	76583849,	'carlos.sejas@umssmail.com',	'B'),
(2,	'Roger',	'Tapia',	63847273,	'roger.tapia@francomail.com',	'A'),
(3,	'Wylie',	'Freeman',	71460872,	'aliquet@icloud.com',	'A'),
(4,	'Michelle',	'Donaldson',	74764489,	'ut.eros.non@protonmail.couk',	'A'),
(5,	'Merrill',	'Moon',	77743107,	'tellus@outlook.edu',	'A'),
(6,	'Summer',	'Burke',	71295532,	'mauris.eu@protonmail.com',	'A'),
(7,	'Armando',	'Hawkins',	71743897,	'ante.vivamus@outlook.couk',	'A'),
(8,	'Quin',	'Britt',	72849454,	'nulla.vulputate@aol.org',	'A'),
(9,	'Gary',	'Ballard',	70547276,	'fringilla.ornare@icloud.ca',	'A'),
(10,	'Quentin',	'Fleming',	77180858,	'mollis@yahoo.net',	'A'),
(11,	'Edan',	'Bernard',	72945013,	'dapibus.ligula.aliquam@google.net',	'A'),
(12,	'Price',	'Houston',	76546697,	'sociis.natoque@yahoo.org',	'A'),
(13,	'Timothy',	'Harrell',	77287370,	'faucibus.leo@outlook.couk',	'A'),
(14,	'Beck',	'Nolan',	76231164,	'ac.libero@icloud.ca',	'A'),
(15,	'Jolene',	'Levine',	75888484,	'nostra.per@google.couk',	'A'),
(16,	'Kermit',	'Hayes',	73866216,	'aenean.eget@icloud.couk',	'A'),
(17,	'Hamish',	'Hodges',	74237580,	'sed.pede@aol.net',	'A'),
(18,	'Brent',	'Larsen',	75048102,	'neque@yahoo.ca',	'A'),
(19,	'Kirestin',	'Valenzuela',	76526007,	'velit@protonmail.net',	'A'),
(20,	'Abraham',	'Hyde',	72585444,	'aliquam@icloud.couk',	'A'),
(21,	'Daphne',	'Prince',	78215072,	'duis.a.mi@icloud.couk',	'A'),
(22,	'Rhiannon',	'Lloyd',	77996641,	'turpis.nec@protonmail.org',	'A'),
(23,	'Juan Carlos',	'Díaz',	76434563,	'juan.diaz@carlosmail.com',	'B');

DROP TABLE IF EXISTS `Consultation`;
CREATE TABLE `Consultation` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `reception_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `client_id` int(11) NOT NULL,
  `vehicle_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `client_id` (`client_id`),
  KEY `vehicle_id` (`vehicle_id`),
  CONSTRAINT `Consultation_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `Client` (`CI`),
  CONSTRAINT `Consultation_ibfk_2` FOREIGN KEY (`vehicle_id`) REFERENCES `Vehicle` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=56 DEFAULT CHARSET=latin1;

INSERT INTO `Consultation` (`id`, `reception_date`, `client_id`, `vehicle_id`) VALUES
(2,	'2022-04-24 22:43:33',	1,	1),
(3,	'2022-04-24 23:34:31',	2,	2),
(4,	'2018-01-15 07:24:21',	5,	18),
(5,	'2017-10-01 20:35:44',	14,	3),
(6,	'2018-02-12 23:12:10',	6,	6),
(7,	'2016-10-03 17:52:54',	5,	17),
(8,	'2021-09-19 23:31:33',	21,	4),
(9,	'2017-07-23 14:02:10',	4,	14),
(10,	'2019-12-30 12:30:09',	5,	11),
(11,	'2018-04-24 08:31:20',	5,	13),
(12,	'2017-10-20 15:38:41',	4,	15),
(13,	'2020-08-07 02:29:34',	2,	6),
(14,	'2020-06-08 15:11:29',	13,	20),
(15,	'2018-02-19 03:41:24',	4,	4),
(16,	'2016-07-19 01:31:21',	1,	2),
(17,	'2021-03-14 23:25:59',	15,	19),
(18,	'2018-03-19 16:10:38',	10,	11),
(19,	'2020-07-24 12:28:36',	10,	5),
(20,	'2017-04-22 02:44:05',	3,	14),
(21,	'2020-02-17 07:01:59',	17,	15),
(22,	'2020-02-26 11:49:24',	2,	3),
(23,	'2021-06-16 09:06:18',	4,	3),
(24,	'2017-06-17 20:05:35',	13,	16),
(25,	'2021-11-06 04:14:25',	16,	1),
(26,	'2022-01-23 15:11:48',	16,	7),
(27,	'2020-08-17 01:56:25',	18,	3),
(28,	'2021-09-04 15:49:37',	7,	12),
(29,	'2020-05-31 07:07:12',	20,	5),
(30,	'2017-04-12 07:34:51',	9,	9),
(31,	'2018-08-12 03:43:43',	12,	19),
(32,	'2017-03-12 13:20:34',	15,	4),
(33,	'2019-02-06 23:27:00',	12,	17),
(34,	'2018-08-31 19:21:51',	11,	17),
(35,	'2016-11-22 16:30:18',	7,	18),
(36,	'2020-09-05 11:46:30',	10,	15),
(37,	'2020-09-27 00:33:10',	18,	16),
(38,	'2019-09-11 09:00:39',	19,	1),
(39,	'2020-06-12 03:48:47',	9,	3),
(40,	'2016-05-08 03:18:17',	10,	6),
(41,	'2017-04-09 21:47:18',	8,	12),
(42,	'2020-12-18 03:18:35',	21,	17),
(43,	'2017-03-28 14:56:31',	12,	21),
(44,	'2016-07-18 03:22:15',	19,	14),
(45,	'2020-06-01 17:06:23',	22,	21),
(46,	'2018-05-10 05:47:31',	20,	19),
(47,	'2018-01-01 20:40:10',	17,	11),
(48,	'2021-06-06 00:18:00',	13,	17),
(49,	'2017-05-18 13:48:03',	16,	20),
(50,	'2018-09-30 04:59:46',	22,	13),
(51,	'2016-09-02 08:24:42',	6,	8),
(52,	'2016-12-21 23:02:28',	21,	9),
(53,	'2020-10-28 07:43:57',	6,	5),
(54,	'2022-03-25 01:52:24',	23,	23),
(55,	'2022-03-25 02:11:24',	23,	23);

DROP TABLE IF EXISTS `Detail`;
CREATE TABLE `Detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(100) NOT NULL,
  `description` text,
  `consultation_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `consultation_id` (`consultation_id`),
  CONSTRAINT `Detail_ibfk_1` FOREIGN KEY (`consultation_id`) REFERENCES `Consultation` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=203 DEFAULT CHARSET=latin1;

INSERT INTO `Detail` (`id`, `type`, `description`, `consultation_id`) VALUES
(2,	'CONSULTA',	'Estaba manejando y de repente salio humo del capo de mi auto',	2),
(3,	'FALLA',	'Morbi non sapien molestie orci',	24),
(4,	'FALLA',	'penatibus et magnis dis parturient montes, nascetur ridiculus',	51),
(5,	'FALLA',	'id',	38),
(6,	'FALLA',	'scelerisque scelerisque',	33),
(7,	'CONSULTA',	'Integer in magna. Phasellus dolor elit,',	9),
(8,	'CONSULTA',	'nulla. Integer urna. Vivamus molestie dapibus ligula.',	10),
(9,	'CONSULTA',	'eget, venenatis a, magna. Lorem ipsum',	29),
(10,	'FALLA',	'tincidunt tempus risus. Donec egestas. Duis ac arcu. Nunc',	13),
(11,	'FALLA',	'elit, a feugiat tellus lorem eu metus. In lorem.',	34),
(12,	'FALLA',	'Maecenas mi felis, adipiscing fringilla,',	30),
(13,	'FALLA',	'euismod enim. Etiam gravida molestie arcu. Sed eu nibh',	5),
(14,	'FALLA',	'felis orci, adipiscing non, luctus sit amet, faucibus',	9),
(15,	'FALLA',	'magna tellus faucibus leo,',	26),
(16,	'CONSULTA',	'hymenaeos. Mauris ut quam',	32),
(17,	'CONSULTA',	'hendrerit a, arcu.',	48),
(18,	'CONSULTA',	'se volvio a dañar el parachoque delantero',	13),
(19,	'CONSULTA',	'nonummy. Fusce fermentum fermentum arcu. Vestibulum ante ipsum primis',	44),
(20,	'FALLA',	'non',	5),
(21,	'FALLA',	'massa. Integer vitae nibh. Donec est',	46),
(22,	'FALLA',	'dolor sit amet, consectetuer adipiscing elit. Etiam laoreet,',	23),
(23,	'FALLA',	'sapien. Cras dolor dolor, tempus non,',	39),
(24,	'FALLA',	'mattis. Integer eu lacus. Quisque',	28),
(25,	'FALLA',	'Donec fringilla. Donec feugiat metus sit amet ante. Vivamus non',	20),
(26,	'FALLA',	'non, cursus non, egestas a, dui. Cras',	24),
(27,	'FALLA',	'ac mattis ornare, lectus ante dictum mi,',	23),
(28,	'FALLA',	'aliquet. Proin velit.',	15),
(29,	'FALLA',	'Nam nulla magna,',	35),
(30,	'FALLA',	'Nam nulla magna, malesuada vel, convallis in,',	15),
(31,	'FALLA',	'neque venenatis lacus. Etiam bibendum fermentum',	26),
(32,	'CONSULTA',	'et malesuada fames ac turpis egestas.',	20),
(33,	'FALLA',	'sagittis felis.',	15),
(34,	'CONSULTA',	'augue malesuada malesuada. Integer id magna et ipsum',	21),
(35,	'CONSULTA',	'sit amet,',	11),
(36,	'CONSULTA',	'In ornare sagittis felis. Donec tempor, est ac mattis',	30),
(37,	'FALLA',	'convallis est, vitae sodales nisi',	32),
(38,	'FALLA',	'eget, venenatis',	40),
(39,	'CONSULTA',	'et risus.',	21),
(40,	'FALLA',	'Quisque',	24),
(41,	'FALLA',	'vel nisl. Quisque fringilla euismod enim. Etiam gravida molestie',	15),
(42,	'FALLA',	'ad litora torquent',	34),
(43,	'CONSULTA',	'neque. Morbi quis urna. Nunc quis arcu vel',	24),
(44,	'FALLA',	'Suspendisse commodo tincidunt nibh. Phasellus nulla. Integer',	7),
(45,	'FALLA',	'Fusce dolor quam, elementum',	31),
(46,	'FALLA',	'consequat nec, mollis vitae, posuere',	14),
(47,	'FALLA',	'sagittis augue, eu tempor',	52),
(48,	'FALLA',	'consectetuer rhoncus. Nullam velit dui, semper et,',	30),
(49,	'FALLA',	'ut, sem. Nulla interdum. Curabitur dictum. Phasellus in felis.',	18),
(50,	'FALLA',	'senectus et netus et malesuada fames ac turpis',	40),
(51,	'FALLA',	'Aliquam vulputate ullamcorper magna. Sed eu eros. Nam consequat',	9),
(52,	'FALLA',	'Ejes descentreados',	16),
(53,	'CONSULTA',	'auctor. Mauris vel turpis. Aliquam adipiscing lobortis',	50),
(54,	'FALLA',	'lacus. Etiam bibendum fermentum metus. Aenean sed pede',	4),
(55,	'FALLA',	'vestibulum lorem, sit',	18),
(56,	'FALLA',	'tempor lorem, eget mollis',	30),
(57,	'CONSULTA',	'egestas. Duis ac',	47),
(58,	'CONSULTA',	'convallis dolor. Quisque tincidunt',	28),
(59,	'CONSULTA',	'eleifend non, dapibus',	51),
(60,	'CONSULTA',	'eget, ipsum. Donec sollicitudin adipiscing ligula. Aenean gravida',	7),
(61,	'FALLA',	'lacus, varius et, euismod',	30),
(62,	'CONSULTA',	'Sed et libero. Proin mi. Aliquam',	2),
(63,	'FALLA',	'Proin velit.',	53),
(64,	'CONSULTA',	'euismod mauris eu elit. Nulla facilisi.',	26),
(65,	'CONSULTA',	'vitae diam.',	38),
(66,	'CONSULTA',	'ut eros non enim commodo hendrerit. Donec porttitor',	24),
(67,	'FALLA',	'Etiam laoreet, libero et tristique pellentesque, tellus',	24),
(68,	'FALLA',	'orci. Ut',	31),
(69,	'FALLA',	'vel,',	47),
(70,	'CONSULTA',	'Proin',	12),
(71,	'CONSULTA',	'vehicula. Pellentesque',	51),
(72,	'CONSULTA',	'Suspendisse aliquet, sem ut cursus luctus, ipsum leo',	12),
(73,	'CONSULTA',	'daños en el parachoque delantero',	18),
(74,	'CONSULTA',	'a nunc. In at',	15),
(75,	'CONSULTA',	'Nunc laoreet lectus quis massa. Mauris vestibulum,',	39),
(76,	'FALLA',	'Mauris magna. Duis dignissim tempor arcu. Vestibulum',	38),
(77,	'FALLA',	'vehicula et, rutrum eu, ultrices sit amet,',	53),
(78,	'CONSULTA',	'gravida molestie arcu. Sed eu nibh vulputate mauris sagittis',	30),
(79,	'FALLA',	'euismod enim. Etiam gravida molestie arcu. Sed eu',	51),
(80,	'FALLA',	'auctor. Mauris vel turpis. Aliquam adipiscing lobortis risus.',	24),
(81,	'FALLA',	'sit amet',	26),
(82,	'FALLA',	'sapien. Nunc',	29),
(83,	'FALLA',	'sit amet, consectetuer adipiscing elit. Aliquam auctor, velit',	44),
(84,	'FALLA',	'amet risus. Donec',	17),
(85,	'CONSULTA',	'Donec tempus,',	10),
(86,	'CONSULTA',	'nibh. Donec est mauris, rhoncus id, mollis nec, cursus',	34),
(87,	'FALLA',	'Nunc ullamcorper, velit',	26),
(88,	'FALLA',	'pretium neque. Morbi quis urna. Nunc quis arcu',	43),
(89,	'FALLA',	'mi lacinia',	53),
(90,	'CONSULTA',	'sed consequat auctor,',	50),
(91,	'CONSULTA',	'luctus, ipsum leo elementum sem,',	47),
(92,	'CONSULTA',	'nonummy ipsum',	53),
(93,	'CONSULTA',	'posuere vulputate, lacus. Cras interdum. Nunc',	13),
(94,	'CONSULTA',	'Donec vitae erat vel pede blandit congue.',	17),
(95,	'CONSULTA',	'purus. Maecenas libero est, congue',	12),
(96,	'CONSULTA',	'aptent taciti sociosqu ad litora',	38),
(97,	'CONSULTA',	'Sed et libero. Proin mi. Aliquam',	32),
(98,	'CONSULTA',	'mi, ac mattis velit justo nec ante. Maecenas',	46),
(99,	'CONSULTA',	'habitant morbi tristique senectus',	26),
(100,	'CONSULTA',	'et magnis dis parturient montes, nascetur ridiculus',	28),
(101,	'CONSULTA',	'ut cursus luctus, ipsum leo elementum sem,',	21),
(102,	'FALLA',	'auctor vitae, aliquet',	24),
(103,	'CONSULTA',	'gravida. Praesent eu nulla at',	12),
(104,	'CONSULTA',	'cursus et, magna. Praesent interdum',	3),
(105,	'CONSULTA',	'Sed nulla ante, iaculis nec, eleifend non, dapibus',	17),
(106,	'FALLA',	'ligula eu enim. Etiam imperdiet dictum magna. Ut tincidunt',	24),
(107,	'FALLA',	'senectus et netus et malesuada fames ac turpis egestas. Fusce',	12),
(108,	'FALLA',	'risus. Morbi',	30),
(109,	'CONSULTA',	'ipsum. Phasellus vitae mauris sit amet lorem semper auctor.',	2),
(110,	'FALLA',	'arcu eu odio tristique pharetra. Quisque',	46),
(111,	'CONSULTA',	'ipsum. Suspendisse non',	44),
(112,	'FALLA',	'aliquam,',	44),
(113,	'CONSULTA',	'mus. Proin vel',	39),
(114,	'CONSULTA',	'eros nec tellus. Nunc lectus pede,',	38),
(115,	'FALLA',	'Curabitur vel lectus. Cum sociis natoque penatibus et magnis dis',	32),
(116,	'CONSULTA',	'bibendum ullamcorper. Duis cursus,',	7),
(117,	'CONSULTA',	'Integer in magna. Phasellus dolor elit, pellentesque a, facilisis',	25),
(118,	'FALLA',	'nulla. Cras eu tellus eu augue porttitor interdum.',	15),
(119,	'FALLA',	'lorem eu metus. In lorem.',	47),
(120,	'FALLA',	'egestas. Aliquam fringilla cursus purus. Nullam scelerisque neque sed sem',	36),
(121,	'FALLA',	'Aliquam erat volutpat. Nulla',	45),
(122,	'CONSULTA',	'nascetur ridiculus mus. Aenean eget',	16),
(123,	'CONSULTA',	'magna sed dui. Fusce aliquam, enim',	28),
(124,	'FALLA',	'orci luctus et ultrices posuere cubilia Curae Phasellus ornare.',	4),
(125,	'CONSULTA',	'dui lectus rutrum urna, nec luctus felis purus',	25),
(126,	'CONSULTA',	'elit. Curabitur',	53),
(127,	'FALLA',	'consectetuer ipsum nunc id',	43),
(128,	'CONSULTA',	'mollis dui, in sodales elit erat vitae risus. Duis',	11),
(129,	'CONSULTA',	'diam at pretium aliquet, metus urna convallis',	52),
(130,	'FALLA',	'at fringilla purus',	8),
(131,	'CONSULTA',	'dolor, nonummy ac, feugiat non, lobortis',	30),
(132,	'FALLA',	'pede',	33),
(133,	'FALLA',	'vel, convallis in, cursus et, eros. Proin ultrices.',	27),
(134,	'CONSULTA',	'Integer urna. Vivamus molestie dapibus ligula.',	15),
(135,	'FALLA',	'ac, eleifend vitae, erat. Vivamus nisi. Mauris',	49),
(136,	'FALLA',	'eu tempor',	6),
(137,	'FALLA',	'Suspendisse sed dolor. Fusce mi lorem, vehicula et,',	10),
(138,	'FALLA',	'faucibus id, libero.',	37),
(139,	'FALLA',	'tincidunt, nunc ac mattis ornare, lectus ante dictum',	46),
(140,	'CONSULTA',	'mollis vitae, posuere at, velit. Cras lorem lorem, luctus',	38),
(141,	'CONSULTA',	'risus quis diam luctus lobortis. Class',	14),
(142,	'CONSULTA',	'elit, pretium et,',	9),
(143,	'CONSULTA',	'ultrices. Vivamus',	17),
(144,	'FALLA',	'et nunc. Quisque ornare tortor',	22),
(145,	'CONSULTA',	'justo nec ante. Maecenas mi',	19),
(146,	'CONSULTA',	'Phasellus elit pede, malesuada vel, venenatis vel, faucibus',	10),
(147,	'FALLA',	'amet massa. Quisque porttitor eros nec tellus. Nunc',	5),
(148,	'CONSULTA',	'tortor, dictum eu, placerat eget, venenatis a, magna. Lorem',	26),
(149,	'CONSULTA',	'taciti sociosqu ad litora torquent per',	18),
(150,	'CONSULTA',	'posuere at, velit. Cras lorem lorem, luctus ut,',	49),
(151,	'FALLA',	'neque tellus, imperdiet non, vestibulum nec, euismod in, dolor. Fusce',	31),
(152,	'FALLA',	'arcu ac orci. Ut',	26),
(153,	'FALLA',	'Sed eget lacus. Mauris non dui',	41),
(154,	'CONSULTA',	'nec ante blandit viverra.',	26),
(155,	'FALLA',	'fringilla cursus purus. Nullam scelerisque neque sed',	22),
(156,	'CONSULTA',	'nisl sem, consequat nec, mollis vitae,',	38),
(157,	'FALLA',	'sed consequat auctor,',	21),
(158,	'CONSULTA',	'viverra. Maecenas iaculis',	11),
(159,	'CONSULTA',	'in, cursus et, eros.',	52),
(160,	'FALLA',	'cursus. Integer mollis. Integer tincidunt aliquam arcu. Aliquam ultrices',	40),
(161,	'CONSULTA',	'lorem ut aliquam iaculis,',	35),
(162,	'FALLA',	'non, vestibulum nec,',	20),
(163,	'FALLA',	'In faucibus. Morbi vehicula. Pellentesque tincidunt tempus risus. Donec',	45),
(164,	'CONSULTA',	'mauris, aliquam eu, accumsan sed,',	31),
(165,	'CONSULTA',	'eu turpis. Nulla aliquet.',	11),
(166,	'FALLA',	'vel sapien imperdiet ornare. In',	13),
(167,	'FALLA',	'orci luctus et ultrices posuere cubilia Curae Donec tincidunt. Donec',	43),
(168,	'FALLA',	'scelerisque sed, sapien. Nunc pulvinar arcu et pede.',	35),
(169,	'FALLA',	'est, vitae sodales nisi magna sed dui. Fusce aliquam,',	23),
(170,	'CONSULTA',	'felis. Nulla tempor augue ac ipsum.',	47),
(171,	'FALLA',	'ut, pellentesque eget, dictum placerat, augue. Sed molestie. Sed',	17),
(172,	'CONSULTA',	'ac, fermentum vel, mauris. Integer sem elit, pharetra ut,',	35),
(173,	'FALLA',	'a, magna. Lorem ipsum',	10),
(174,	'FALLA',	'In at pede. Cras vulputate velit eu sem.',	22),
(175,	'CONSULTA',	'auctor non, feugiat nec, diam.',	36),
(176,	'FALLA',	'nisl elementum purus, accumsan interdum libero dui nec',	29),
(177,	'FALLA',	'nunc sit amet metus. Aliquam',	48),
(178,	'CONSULTA',	'Quisque fringilla',	37),
(179,	'FALLA',	'Maecenas iaculis aliquet diam. Sed diam lorem,',	33),
(180,	'CONSULTA',	'orci quis lectus. Nullam suscipit, est ac facilisis facilisis,',	5),
(181,	'CONSULTA',	'sed turpis nec mauris blandit mattis. Cras eget',	7),
(182,	'FALLA',	'penatibus et magnis dis parturient montes, nascetur',	14),
(183,	'CONSULTA',	'ullamcorper viverra. Maecenas iaculis aliquet diam. Sed',	18),
(184,	'FALLA',	'blandit congue.',	32),
(185,	'FALLA',	'feugiat. Sed nec metus facilisis lorem tristique',	13),
(186,	'CONSULTA',	'Donec est mauris, rhoncus',	38),
(187,	'CONSULTA',	'dapibus rutrum, justo. Praesent luctus.',	9),
(188,	'FALLA',	'Phasellus at',	37),
(189,	'FALLA',	'penatibus et',	8),
(190,	'CONSULTA',	'odio. Aliquam vulputate ullamcorper magna. Sed eu',	29),
(191,	'CONSULTA',	'velit justo nec',	26),
(192,	'FALLA',	'Aros Torcidos',	3),
(193,	'FALLA',	'sagittis semper. Nam tempor diam',	24),
(194,	'FALLA',	'Engranajes desgastados',	16),
(195,	'CONSULTA',	'augue ac ipsum. Phasellus vitae',	27),
(196,	'CONSULTA',	'vel, faucibus id, libero. Donec',	10),
(197,	'CONSULTA',	'egestas ligula. Nullam feugiat',	30),
(198,	'FALLA',	'elit, dictum eu, eleifend nec, malesuada ut,',	50),
(199,	'CONSULTA',	'amet, consectetuer adipiscing elit. Curabitur sed',	5),
(200,	'FALLA',	'nisi sem',	51),
(201,	'FALLA',	'Filtro de conbustible averiado',	16),
(202,	'CONSULTA',	'nec tellus. Nunc lectus pede,',	42);

DROP TABLE IF EXISTS `Diagnosis`;
CREATE TABLE `Diagnosis` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `diagnosis_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `completion_date` date DEFAULT NULL,
  `deadline` datetime DEFAULT NULL,
  `vehicle_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `vehicle_id` (`vehicle_id`),
  CONSTRAINT `Diagnosis_ibfk_1` FOREIGN KEY (`vehicle_id`) REFERENCES `Vehicle` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=latin1;

INSERT INTO `Diagnosis` (`id`, `diagnosis_date`, `completion_date`, `deadline`, `vehicle_id`) VALUES
(1,	'2022-03-24 22:45:35',	'2022-05-30',	'2022-04-24 00:00:00',	1),
(2,	'2022-02-14 23:34:45',	NULL,	'2022-02-24 00:00:00',	2),
(3,	'2022-04-25 00:19:11',	NULL,	'2021-08-07 09:14:59',	3),
(4,	'2022-04-25 00:19:11',	NULL,	'2022-03-04 20:01:11',	4),
(5,	'2022-04-25 00:19:11',	'2022-05-30',	'2022-02-20 23:36:21',	5),
(6,	'2022-04-25 00:19:11',	NULL,	'2021-09-19 18:17:53',	6),
(7,	'2022-04-25 00:19:11',	NULL,	'2022-09-24 13:30:33',	7),
(8,	'2022-04-25 00:19:11',	NULL,	'2021-08-10 13:11:29',	8),
(9,	'2022-04-25 00:19:11',	NULL,	'2021-10-20 20:36:43',	9),
(10,	'2022-04-25 00:19:11',	NULL,	'2022-04-20 01:03:07',	10),
(11,	'2022-04-25 00:19:11',	NULL,	'2022-07-04 12:43:00',	11),
(12,	'2022-04-25 00:19:11',	NULL,	'2021-10-09 03:42:48',	12),
(13,	'2022-04-25 00:19:12',	NULL,	'2021-08-02 00:01:43',	13),
(14,	'2022-04-25 00:19:12',	'2022-05-30',	'2021-08-17 04:47:08',	14),
(15,	'2022-04-25 00:19:12',	NULL,	'2022-12-28 09:09:30',	15),
(16,	'2022-04-25 00:19:12',	NULL,	'2022-04-11 07:46:40',	16),
(17,	'2022-04-25 00:19:12',	NULL,	'2022-07-23 18:02:53',	17),
(18,	'2022-04-25 00:19:12',	NULL,	'2022-07-30 11:50:17',	18),
(19,	'2022-04-25 00:19:12',	NULL,	'2023-01-10 05:59:41',	19),
(20,	'2022-04-25 00:19:12',	NULL,	'2023-04-20 21:59:55',	20),
(21,	'2022-04-25 00:19:12',	NULL,	'2022-12-06 17:20:31',	21),
(22,	'2022-04-25 00:19:12',	NULL,	'2023-04-08 04:58:07',	22);

DELIMITER ;;

CREATE TRIGGER `calculateRepairTotalPrice` AFTER UPDATE ON `Diagnosis` FOR EACH ROW
BEGIN 
  IF NEW.completion_date IS NOT NULL THEN 
    CALL getTotalCost();
  END IF;
END;;

DELIMITER ;

DROP TABLE IF EXISTS `Diagnosis_spare`;
CREATE TABLE `Diagnosis_spare` (
  `diagnosis_id` int(11) NOT NULL,
  `spare_id` int(11) NOT NULL,
  `count` int(11) DEFAULT NULL,
  PRIMARY KEY (`diagnosis_id`,`spare_id`),
  KEY `spare_id` (`spare_id`),
  CONSTRAINT `Diagnosis_spare_ibfk_1` FOREIGN KEY (`diagnosis_id`) REFERENCES `Diagnosis` (`id`),
  CONSTRAINT `Diagnosis_spare_ibfk_2` FOREIGN KEY (`spare_id`) REFERENCES `Spare` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `Diagnosis_spare` (`diagnosis_id`, `spare_id`, `count`) VALUES
(1,	1,	12),
(2,	2,	1),
(2,	3,	2),
(3,	10,	10),
(4,	12,	2),
(4,	18,	2),
(6,	10,	9),
(6,	16,	8),
(7,	6,	7),
(7,	9,	6),
(7,	10,	1),
(8,	14,	7),
(8,	16,	8),
(8,	22,	9),
(9,	8,	9),
(9,	17,	1),
(10,	4,	5),
(10,	14,	5),
(10,	16,	3),
(10,	22,	4),
(11,	17,	7),
(12,	8,	8),
(12,	20,	5),
(13,	1,	3),
(13,	12,	9),
(14,	13,	3),
(15,	18,	5),
(16,	2,	10),
(16,	4,	6),
(16,	7,	7),
(17,	9,	9),
(18,	12,	7),
(19,	3,	8),
(19,	21,	1),
(20,	13,	9),
(20,	17,	8),
(21,	2,	4),
(21,	4,	1),
(21,	14,	7),
(21,	18,	5);

DROP TABLE IF EXISTS `Diagnosis_supplie`;
CREATE TABLE `Diagnosis_supplie` (
  `diagnosis_id` int(11) NOT NULL,
  `supplie_id` int(11) NOT NULL,
  `count` int(11) DEFAULT NULL,
  PRIMARY KEY (`diagnosis_id`,`supplie_id`),
  KEY `supplie_id` (`supplie_id`),
  CONSTRAINT `Diagnosis_supplie_ibfk_1` FOREIGN KEY (`diagnosis_id`) REFERENCES `Diagnosis` (`id`),
  CONSTRAINT `Diagnosis_supplie_ibfk_2` FOREIGN KEY (`supplie_id`) REFERENCES `Supplie` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `Diagnosis_supplie` (`diagnosis_id`, `supplie_id`, `count`) VALUES
(2,	1,	1),
(2,	2,	2),
(2,	3,	1),
(4,	7,	6),
(5,	3,	4),
(5,	6,	4),
(7,	3,	3),
(7,	5,	5),
(8,	2,	6),
(9,	6,	2),
(11,	5,	6),
(11,	6,	7),
(12,	3,	5),
(13,	4,	2),
(13,	6,	5),
(14,	6,	2),
(15,	5,	6),
(15,	6,	9),
(17,	4,	8),
(18,	5,	1),
(18,	6,	8),
(20,	2,	2),
(21,	4,	4),
(22,	1,	4),
(22,	6,	3);

DROP TABLE IF EXISTS `Employee`;
CREATE TABLE `Employee` (
  `CI` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(100) NOT NULL,
  `last_name` varchar(100) NOT NULL,
  `age` int(11) DEFAULT NULL,
  `address` varchar(255) NOT NULL,
  `email` varchar(200) NOT NULL,
  `phone_number` int(11) NOT NULL,
  `addmission_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `position_id` int(11) NOT NULL,
  PRIMARY KEY (`CI`),
  KEY `position_id` (`position_id`),
  CONSTRAINT `Employee_ibfk_1` FOREIGN KEY (`position_id`) REFERENCES `Job_position` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=42 DEFAULT CHARSET=latin1;

INSERT INTO `Employee` (`CI`, `first_name`, `last_name`, `age`, `address`, `email`, `phone_number`, `addmission_date`, `position_id`) VALUES
(1,	'Jorge',	'Chávez',	28,	'av errique arce #123',	'jorge.chavez@masmail.com',	76543454,	'2022-04-24 22:50:09',	2),
(2,	'Fulton',	'Davenport',	37,	'Ap #785-6880 Ac Ave',	'dignissim@google.couk',	61252216,	'2020-09-23 01:21:08',	1),
(3,	'Damian',	'Flynn',	35,	'327-8927 Eget, Av.',	'lobortis.risus.in@protonmail.net',	70090108,	'2019-09-20 18:12:28',	2),
(4,	'Demetria',	'Boone',	36,	'Ap #279-2628 Blandit Rd.',	'risus@yahoo.couk',	67709735,	'2020-02-07 14:25:27',	2),
(5,	'Jade',	'Horton',	31,	'511-3977 Mauris St.',	'nec.cursus.a@aol.com',	76137451,	'2019-05-20 05:05:42',	2),
(6,	'Laurel',	'Russo',	32,	'540-8507 Dapibus Road',	'leo@aol.couk',	62111991,	'2020-01-15 19:56:55',	2),
(7,	'Paul',	'Carrillo',	27,	'925-2953 Dictum Rd.',	'vel.vulputate.eu@yahoo.couk',	75498667,	'2018-02-24 11:19:26',	3),
(8,	'Hakeem',	'Jones',	33,	'Ap #129-2200 Fusce Rd.',	'eu.tempor@google.couk',	64190422,	'2017-03-30 21:02:43',	2),
(9,	'Alfonso',	'Salazar',	36,	'Ap #722-7593 Mauris Rd.',	'purus.maecenas.libero@outlook.com',	76695821,	'2016-12-12 22:34:19',	1),
(10,	'Rafael',	'Estrada',	28,	'Ap #787-2134 Aliquam Ave',	'eu.accumsan@yahoo.ca',	62989600,	'2019-04-24 06:12:22',	2),
(11,	'Mikayla',	'Morse',	32,	'P.O. Box 232, 8005 Sed Street',	'duis@hotmail.org',	70979583,	'2023-03-01 19:43:24',	2),
(12,	'Amery',	'Good',	30,	'152-7027 Urna. Rd.',	'dolor.egestas.rhoncus@yahoo.couk',	75983993,	'2019-07-26 12:41:13',	2),
(13,	'Glenna',	'Sutton',	35,	'Ap #564-528 Eu, St.',	'quis.pede.suspendisse@protonmail.ca',	64046798,	'2022-11-22 00:08:19',	3),
(14,	'Cole',	'Mcgee',	39,	'Ap #670-1387 Cras Av.',	'nonummy.ipsum.non@google.ca',	60979528,	'2017-09-06 20:24:41',	3),
(15,	'Tyrone',	'Cain',	38,	'236 Arcu Rd.',	'diam@outlook.org',	72456697,	'2018-02-21 17:33:31',	3),
(16,	'Berk',	'Tran',	30,	'3632 Gravida St.',	'dolor.nonummy@yahoo.org',	69226781,	'2022-08-28 09:49:39',	1),
(17,	'Hyatt',	'David',	32,	'Ap #587-8768 Id Road',	'sociis@hotmail.edu',	64997585,	'2017-11-03 00:49:16',	1),
(18,	'Ronan',	'Beach',	38,	'P.O. Box 286, 4870 Dapibus Avenue',	'at@outlook.com',	60457344,	'2020-05-08 23:17:28',	1),
(19,	'MacKensie',	'Cross',	39,	'3304 Maecenas Rd.',	'erat.vitae.risus@yahoo.org',	66234365,	'2018-02-20 10:14:01',	2),
(20,	'Noel',	'Hoffman',	33,	'1126 Velit Ave',	'ultrices@icloud.edu',	75213088,	'2021-08-27 04:49:35',	3),
(21,	'Slade',	'Morgan',	37,	'Ap #187-4090 Venenatis Rd.',	'pede.ac@yahoo.org',	60140143,	'2020-10-09 11:52:04',	1),
(22,	'Amity',	'Acosta',	29,	'Ap #127-4633 Auctor. Rd.',	'sociis.natoque.penatibus@google.edu',	69935961,	'2022-10-06 03:45:22',	1),
(23,	'Timothy',	'Vaughn',	32,	'795-4933 Vestibulum Street',	'libero.nec.ligula@aol.net',	60892216,	'2019-05-09 15:04:06',	1),
(24,	'Sean',	'Haynes',	35,	'301 Imperdiet Rd.',	'fringilla.donec@hotmail.org',	73587401,	'2019-09-06 20:01:21',	3),
(25,	'Elton',	'Petty',	40,	'231-4627 Egestas Av.',	'nunc.ullamcorper.eu@outlook.couk',	68954649,	'2016-07-02 15:42:16',	2),
(26,	'Caldwell',	'Beck',	33,	'716-4117 Curabitur St.',	'nullam.ut@aol.com',	72910569,	'2020-12-16 04:29:37',	1),
(27,	'Donovan',	'Suarez',	27,	'P.O. Box 257, 3463 Nec St.',	'nec.leo@aol.org',	73300468,	'2019-05-30 08:20:58',	2),
(28,	'Jerry',	'Franks',	37,	'Ap #541-607 Pede Rd.',	'vel.arcu@yahoo.net',	77088657,	'2021-05-31 13:01:00',	2),
(29,	'Basil',	'Michael',	26,	'783-6870 Molestie Road',	'tincidunt.nunc@google.edu',	63951007,	'2018-01-03 09:12:51',	3),
(30,	'Miranda',	'Mckay',	32,	'100-6418 Erat St.',	'risus.donec.nibh@outlook.org',	68564274,	'2022-08-24 16:11:09',	2),
(31,	'Shad',	'Buchanan',	30,	'P.O. Box 397, 584 Penatibus Rd.',	'nisi@aol.net',	73447354,	'2016-09-15 01:22:47',	3),
(32,	'Donna',	'Britt',	28,	'Ap #214-3930 Enim. Avenue',	'arcu.morbi@google.couk',	67990519,	'2019-05-09 00:45:36',	2),
(33,	'Kaye',	'Aguilar',	33,	'5542 Volutpat Ave',	'penatibus.et.magnis@aol.ca',	78875755,	'2019-06-12 16:41:14',	1),
(34,	'Tana',	'Mcgee',	36,	'Ap #516-514 Penatibus Av.',	'mauris.molestie@hotmail.net',	62709102,	'2017-04-12 22:07:20',	2),
(35,	'Risa',	'Moreno',	37,	'Ap #102-6557 Dui, Av.',	'in@icloud.net',	72714302,	'2019-08-02 11:05:54',	2),
(36,	'Beau',	'Bonner',	30,	'Ap #977-9594 Nisi Avenue',	'sit@hotmail.org',	72128707,	'2018-06-11 02:29:27',	2),
(37,	'Belle',	'Pace',	27,	'721-7943 Tempus Avenue',	'lacus.aliquam.rutrum@aol.net',	62986776,	'2018-11-25 18:13:22',	1),
(38,	'Zenaida',	'Riddle',	31,	'Ap #725-1824 Suspendisse Avenue',	'aliquam.ornare@yahoo.couk',	75115989,	'2017-10-14 05:53:22',	2),
(39,	'Xena',	'Pratt',	34,	'Ap #820-5250 Dictum Av.',	'donec.tempor@protonmail.net',	71657021,	'2021-07-15 20:34:33',	1),
(40,	'Nevada',	'Byrd',	25,	'466 Tristique St.',	'diam.eu@aol.com',	61700359,	'2022-11-22 10:52:26',	1),
(41,	'Castor',	'Mathis',	36,	'Ap #668-3761 Lacus. St.',	'nonummy.ut@yahoo.edu',	72343676,	'2018-02-10 17:00:04',	2);

DROP TABLE IF EXISTS `Invoice`;
CREATE TABLE `Invoice` (
  `code` int(11) NOT NULL AUTO_INCREMENT,
  `total_const` double NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `diagnosis_id` int(11) NOT NULL,
  PRIMARY KEY (`code`),
  UNIQUE KEY `diagnosis_id_2` (`diagnosis_id`),
  KEY `diagnosis_id` (`diagnosis_id`),
  CONSTRAINT `Invoice_ibfk_1` FOREIGN KEY (`diagnosis_id`) REFERENCES `Diagnosis` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=44 DEFAULT CHARSET=latin1;

INSERT INTO `Invoice` (`code`, `total_const`, `date`, `diagnosis_id`) VALUES
(39,	3730,	'2022-05-30 22:11:53',	1),
(40,	2856,	'2022-05-30 22:11:53',	5),
(43,	1814,	'2022-05-30 22:12:20',	14);

DROP TABLE IF EXISTS `Job_position`;
CREATE TABLE `Job_position` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(100) NOT NULL,
  `hourly_rate` double NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

INSERT INTO `Job_position` (`id`, `title`, `hourly_rate`) VALUES
(1,	'AYUDANTE',	8),
(2,	'MECANICO',	10),
(3,	'ELECTRO MECANICO',	12);

DROP TABLE IF EXISTS `Monthly_bonus`;
CREATE TABLE `Monthly_bonus` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(100) NOT NULL,
  `description` text,
  `bonus_porcentage` double NOT NULL,
  `employee_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `employee_id` (`employee_id`),
  CONSTRAINT `Monthly_bonus_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `Employee` (`CI`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `Repair`;
CREATE TABLE `Repair` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `description` text,
  `finish_date` datetime DEFAULT NULL,
  `repair_type_id` int(11) NOT NULL,
  `diagnosis_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `repair_type_id` (`repair_type_id`),
  KEY `diagnosis_id` (`diagnosis_id`),
  CONSTRAINT `Repair_ibfk_1` FOREIGN KEY (`repair_type_id`) REFERENCES `Repair_type` (`id`),
  CONSTRAINT `Repair_ibfk_2` FOREIGN KEY (`diagnosis_id`) REFERENCES `Diagnosis` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=latin1;

INSERT INTO `Repair` (`id`, `description`, `finish_date`, `repair_type_id`, `diagnosis_id`) VALUES
(1,	'ser requiera un cambio de anillas y un mantenimiento de motor',	NULL,	1,	1),
(2,	'Se realizará un mantenimento general',	NULL,	2,	2),
(3,	'quis arcu vel quam',	NULL,	9,	6),
(4,	'Integer tincidunt aliquam arcu. Aliquam ultrices iaculis odio. Nam interdum',	NULL,	9,	18),
(5,	'enim. Nunc ut erat. Sed nunc est, mollis non, cursus',	NULL,	3,	16),
(6,	'mus. Aenean eget magna. Suspendisse tristique neque',	NULL,	10,	4),
(7,	'elit. Etiam laoreet, libero et tristique pellentesque, tellus',	NULL,	2,	12),
(8,	'magna. Nam',	NULL,	5,	6),
(9,	'nisi magna sed dui. Fusce',	NULL,	7,	20),
(10,	'ac facilisis facilisis, magna',	NULL,	5,	5),
(11,	'dis parturient montes, nascetur ridiculus mus.',	NULL,	10,	16),
(12,	'imperdiet dictum magna. Ut tincidunt orci',	NULL,	11,	12),
(13,	'fermentum vel, mauris. Integer',	NULL,	9,	15),
(14,	'ornare, lectus ante dictum',	NULL,	3,	12),
(15,	'Nullam ut nisi a odio semper cursus. Integer mollis.',	NULL,	5,	19),
(16,	'mauris. Suspendisse aliquet molestie',	NULL,	6,	21),
(17,	'sed sem egestas blandit. Nam',	NULL,	10,	7),
(18,	'ipsum non arcu. Vivamus sit amet risus. Donec',	NULL,	10,	14),
(19,	'mattis ornare, lectus ante dictum mi, ac mattis',	NULL,	5,	15),
(20,	'ipsum dolor sit amet, consectetuer adipiscing elit. Aliquam',	NULL,	6,	11),
(21,	'ante ipsum primis in faucibus orci luctus et',	NULL,	1,	8),
(22,	'Donec',	NULL,	12,	7);

DROP TABLE IF EXISTS `Repair_equipment`;
CREATE TABLE `Repair_equipment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sku_code` varchar(100) NOT NULL,
  `unit_price` double NOT NULL,
  `count` int(11) DEFAULT NULL,
  `usage_cost` double NOT NULL,
  `usage_type` varchar(100) NOT NULL,
  `usage_description` text,
  `purchase_date` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

INSERT INTO `Repair_equipment` (`id`, `sku_code`, `unit_price`, `count`, `usage_cost`, `usage_type`, `usage_description`, `purchase_date`) VALUES
(1,	'LKF634',	1000,	2,	10,	'SCANNER',	'Un scanner automotriz es una herramienta que se utiliza para diagnosticar las fallas electrónicas de un auto, específicamente las almacenadas en la computadora del mismo. Esta última se encarga de regular las funciones del motor a través de distintos sensores y registra todos los errores con un código.',	'2018-04-24 23:44:07');

DROP TABLE IF EXISTS `Repair_equipment_task`;
CREATE TABLE `Repair_equipment_task` (
  `task_id` int(11) NOT NULL,
  `repair_equipment_id` int(11) NOT NULL,
  `usage_count` int(11) DEFAULT '1',
  PRIMARY KEY (`task_id`,`repair_equipment_id`),
  KEY `repair_equipment_id` (`repair_equipment_id`),
  CONSTRAINT `Repair_equipment_task_ibfk_1` FOREIGN KEY (`task_id`) REFERENCES `Task` (`id`),
  CONSTRAINT `Repair_equipment_task_ibfk_2` FOREIGN KEY (`repair_equipment_id`) REFERENCES `Repair_equipment` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `Repair_equipment_task` (`task_id`, `repair_equipment_id`, `usage_count`) VALUES
(1,	1,	1),
(3,	1,	1),
(7,	1,	1),
(9,	1,	1),
(11,	1,	1),
(19,	1,	1),
(21,	1,	1),
(33,	1,	1),
(35,	1,	1),
(38,	1,	1),
(43,	1,	1),
(48,	1,	1),
(49,	1,	1);

DROP TABLE IF EXISTS `Repair_type`;
CREATE TABLE `Repair_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `standar_price` double NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=latin1;

INSERT INTO `Repair_type` (`id`, `name`, `standar_price`) VALUES
(1,	'Reparacion de motor',	500),
(2,	'Mantenimiento general',	100),
(3,	'Cambio de aceite y filtro de aceite',	100),
(4,	'Cambio de las escobillas limpiaparabrisas',	100),
(5,	'Cambio del filtro de aire',	200),
(6,	'Mantenimiento programado',	100),
(7,	'Llantas nuevas',	100),
(8,	'Cambio de bactería',	10),
(9,	'Servicio/reparación de frenos',	100),
(10,	'Anticongelante adicional',	12),
(11,	'Afinación del motor',	100),
(12,	'Alineación/balanceo de llantas',	100);

DROP TABLE IF EXISTS `Salary_payment`;
CREATE TABLE `Salary_payment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `total_salary` double NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `salary_detail` text NOT NULL,
  `employee_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `employee_id` (`employee_id`),
  CONSTRAINT `Salary_payment_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `Employee` (`CI`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `Spare`;
CREATE TABLE `Spare` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sku_code` varchar(100) NOT NULL,
  `name` varchar(100) NOT NULL,
  `car_model` varchar(100) NOT NULL,
  `stock` int(11) DEFAULT NULL,
  `unit_price` double NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;

INSERT INTO `Spare` (`id`, `sku_code`, `name`, `car_model`, `stock`, `unit_price`) VALUES
(1,	'ASD2312',	'Anillas de motor',	'Toyota',	123,	20),
(2,	'GSA123',	'Bujia',	'ALL',	1,	100),
(3,	'ASD654',	'Retro Visor',	'Tesla',	0,	150),
(4,	'CBF434',	'Bomba de agua',	'Audi.',	10,	99),
(5,	'WHU139',	'Mangueras',	'Audi.',	1,	21),
(6,	'UNB267',	'Bomba de gasolina',	'Ford.',	1,	107),
(7,	'XYV476',	'Discos de frenos',	'BMW.',	7,	68),
(8,	'QYV115',	'Radiador',	'Renault.',	1,	96),
(9,	'CUS248',	'Correa de distribución',	'Ford.',	4,	72),
(10,	'FSM453',	'Faros',	'Audi.',	9,	62),
(11,	'JWS141',	'Mangueras',	'BMW.',	8,	84),
(12,	'KWH685',	'Batería ',	'Mercedes-Benz.',	9,	78),
(13,	'CUG532',	'Radiador',	'Ford.',	7,	75),
(14,	'SIH250',	'Radiador',	'Mercedes-Benz.',	3,	76),
(15,	'CKB531',	'Guardafangos',	'Ford.',	8,	67),
(16,	'YUR957',	'Faros',	'Renault.',	1,	49),
(17,	'HGN659',	'Facia delantera y trasera',	'Mercedes-Benz.',	5,	87),
(18,	'QYX477',	'Llantas',	'Ford.',	2,	85),
(19,	'CEH932',	'Faros',	'Mercedes-Benz.',	7,	93),
(20,	'CWR199',	'Correa de distribución',	'Audi.',	4,	102),
(21,	'MBO184',	'Bujías',	'Lexus.',	1,	52),
(22,	'MSP615',	'Radiador',	'Ford.',	8,	82),
(23,	'EBY588',	'Bujías',	'Opel.',	7,	22);

DROP TABLE IF EXISTS `Supplie`;
CREATE TABLE `Supplie` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sku_code` varchar(100) NOT NULL,
  `name` varchar(100) NOT NULL,
  `type` varchar(100) NOT NULL,
  `stock` int(11) DEFAULT NULL,
  `unit_price` double NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1;

INSERT INTO `Supplie` (`id`, `sku_code`, `name`, `type`, `stock`, `unit_price`) VALUES
(1,	'KFE124',	'Aceite de motor',	'LUBRICANTE',	2,	320),
(2,	'DFG332',	'liquido de freno',	'LUBRICANTE',	4,	80),
(3,	'GGH312',	'Gasolina',	'COMBUSTIBLE',	0,	20),
(4,	'FKJ234',	'Cámaras de Vehículos',	'ELECTRONICO',	45,	600),
(5,	'DFS355',	'Lubrillantas',	'LUBRICANTE',	2,	43),
(6,	'DGD234',	'Juegos de Cable Bujía',	'ELECTRONICO',	4,	12),
(7,	'VWE324',	'bateria',	'ELECTRONICO',	5,	70);

DROP TABLE IF EXISTS `Task`;
CREATE TABLE `Task` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(100) NOT NULL,
  `description` text,
  `diagnosis_id` int(11) NOT NULL,
  `employee_id` int(11) DEFAULT NULL,
  `repair_id` int(11) DEFAULT NULL,
  `completed_at` date DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `diagnosis_id` (`diagnosis_id`),
  KEY `employee_id` (`employee_id`),
  KEY `repair_id` (`repair_id`),
  CONSTRAINT `Task_ibfk_1` FOREIGN KEY (`diagnosis_id`) REFERENCES `Diagnosis` (`id`),
  CONSTRAINT `Task_ibfk_2` FOREIGN KEY (`employee_id`) REFERENCES `Employee` (`CI`) ON DELETE SET NULL,
  CONSTRAINT `Task_ibfk_3` FOREIGN KEY (`repair_id`) REFERENCES `Repair` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=latin1;

INSERT INTO `Task` (`id`, `title`, `description`, `diagnosis_id`, `employee_id`, `repair_id`, `completed_at`) VALUES
(1,	'Cambio de anillas',	'Tiene que cambiar las anillas del motor',	1,	4,	1,	NULL),
(2,	'Mantenimiento general',	'Reailizar un mantenimiento general',	2,	32,	1,	NULL),
(3,	'Nulla',	'non sapien molestie orci tincidunt adipiscing. Mauris molestie',	15,	9,	13,	NULL),
(5,	'Phasellus',	'id, libero. Donec consectetuer mauris id sapien. Cras',	18,	16,	4,	NULL),
(6,	'ligula tortor,',	'dapibus ligula. Aliquam erat volutpat. Nulla dignissim.',	5,	15,	10,	NULL),
(7,	'id',	'eget magna. Suspendisse tristique',	11,	37,	20,	NULL),
(8,	'eros non',	'semper auctor. Mauris vel turpis. Aliquam adipiscing lobortis risus. In',	15,	39,	13,	NULL),
(9,	'vel',	'elementum at, egestas a, scelerisque sed, sapien. Nunc',	1,	16,	1,	NULL),
(11,	'tristique',	'ut, pharetra sed, hendrerit a, arcu.',	19,	20,	15,	NULL),
(12,	'gravida non,',	'est.',	14,	27,	18,	NULL),
(13,	'sed',	'tempor bibendum.',	8,	17,	21,	NULL),
(14,	'mauris blandit',	'a, scelerisque sed, sapien. Nunc pulvinar arcu',	14,	23,	18,	NULL),
(16,	'diam',	'at lacus. Quisque purus sapien, gravida non, sollicitudin',	6,	25,	3,	NULL),
(19,	'Morbi',	'elit. Nulla facilisi. Sed neque. Sed eget lacus. Mauris',	2,	21,	2,	NULL),
(21,	'diam. Pellentesque',	'dapibus quam quis diam. Pellentesque habitant morbi tristique senectus et',	7,	38,	17,	NULL),
(22,	'orci.',	'quis arcu vel',	11,	11,	20,	NULL),
(27,	'Vestibulum accumsan',	'ante ipsum primis in faucibus orci luctus et ultrices posuere',	15,	13,	13,	NULL),
(28,	'nostra,',	'elit sed consequat auctor,',	16,	24,	5,	NULL),
(33,	'at',	'volutpat. Nulla facilisis. Suspendisse commodo tincidunt nibh. Phasellus nulla.',	11,	9,	20,	NULL),
(34,	'gravida sit',	'Mauris eu turpis. Nulla aliquet. Proin velit. Sed malesuada',	15,	21,	13,	NULL),
(35,	'lacus vestibulum',	'dui. Cras pellentesque. Sed dictum. Proin eget odio. Aliquam',	4,	32,	6,	NULL),
(36,	'diam lorem,',	'id risus',	18,	32,	4,	NULL),
(37,	'lacus,',	'neque. Nullam',	15,	7,	13,	NULL),
(38,	'Donec elementum,',	'justo. Proin non massa non ante',	14,	15,	18,	NULL),
(40,	'pede, ultrices',	'amet diam eu dolor',	1,	34,	1,	NULL),
(41,	'Pellentesque',	'Quisque porttitor eros nec tellus. Nunc lectus pede, ultrices',	12,	3,	7,	NULL),
(43,	'Nulla',	'non sapien molestie orci tincidunt adipiscing. Mauris molestie',	15,	9,	13,	NULL),
(45,	'Phasellus',	'id, libero. Donec consectetuer mauris id sapien. Cras',	18,	16,	4,	NULL),
(46,	'ligula tortor,',	'dapibus ligula. Aliquam erat volutpat. Nulla dignissim.',	5,	15,	10,	NULL),
(47,	'id',	'eget magna. Suspendisse tristique',	11,	37,	20,	NULL),
(48,	'eros non',	'semper auctor. Mauris vel turpis. Aliquam adipiscing lobortis risus. In',	15,	39,	13,	NULL),
(49,	'vel',	'elementum at, egestas a, scelerisque sed, sapien. Nunc',	1,	16,	1,	NULL),
(51,	'tristique',	'ut, pharetra sed, hendrerit a, arcu.',	19,	20,	15,	NULL),
(52,	'gravida non,',	'est.',	14,	27,	18,	NULL);

DROP TABLE IF EXISTS `Vehicle`;
CREATE TABLE `Vehicle` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `chassis_code` varchar(255) NOT NULL,
  `plate_code` varchar(20) NOT NULL,
  `color` varchar(50) NOT NULL,
  `model_id` int(11) NOT NULL,
  `client_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `client_id` (`client_id`),
  KEY `model_id` (`model_id`),
  CONSTRAINT `Vehicle_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `Client` (`CI`),
  CONSTRAINT `Vehicle_ibfk_2` FOREIGN KEY (`model_id`) REFERENCES `vehicle_model` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;

INSERT INTO `Vehicle` (`id`, `chassis_code`, `plate_code`, `color`, `model_id`, `client_id`) VALUES
(1,	'SV30-0169266',	'DAS123',	'rojo',	52,	1),
(2,	'RAV4-0169266',	'GFD323',	'rosado',	1,	2),
(3,	'MV65-3366336',	'JHI672',	'morado',	25,	3),
(4,	'HG87-5982577',	'WUH415',	'blanco',	27,	4),
(5,	'MG67-6332241',	'AII167',	'verda',	23,	5),
(6,	'KV01-4647817',	'BDF951',	'rojo',	11,	6),
(7,	'OU58-0320347',	'VHI732',	'verda',	21,	7),
(8,	'MK53-9536628',	'QLI472',	'verda',	11,	8),
(9,	'HI28-5432373',	'QRD593',	'amarillo',	7,	9),
(10,	'XH08-3162469',	'OLK480',	'amarillo',	8,	10),
(11,	'YN45-8212869',	'RHB478',	'rojo',	31,	11),
(12,	'FI77-4630178',	'NLB977',	'rosado',	9,	12),
(13,	'ZT22-6011711',	'MRS324',	'blanco',	34,	13),
(14,	'XM28-0284581',	'ISY965',	'morado',	28,	14),
(15,	'XL39-2125249',	'PCQ774',	'guindo',	26,	15),
(16,	'FZ43-5441556',	'UKS854',	'celeste',	10,	16),
(17,	'PM68-3242124',	'HJB678',	'amarillo',	2,	17),
(18,	'XC56-1173613',	'PCZ609',	'rosado',	3,	18),
(19,	'ED40-3261533',	'AKH355',	'amarillo',	17,	19),
(20,	'PJ24-7862633',	'LWP291',	'negro',	19,	20),
(21,	'BS14-9355121',	'KOV451',	'rojo',	35,	21),
(22,	'TY63-1414414',	'JQX303',	'blanco',	12,	22),
(23,	'GE30-0169266',	'FDW323',	'rosado',	3,	23);

DROP TABLE IF EXISTS `vehicle_model`;
CREATE TABLE `vehicle_model` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `brand` varchar(100) NOT NULL,
  `year` int(4) NOT NULL,
  `type` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=latin1;

INSERT INTO `vehicle_model` (`id`, `name`, `brand`, `year`, `type`) VALUES
(1,	'RAV4',	'Toyota',	1994,	'AUTOMOVIL'),
(2,	'XYK0',	'Mercedes-Benz.',	1990,	'CAMIONETA'),
(3,	'UJL5',	'Audi.',	1997,	'AUTOMOVIL'),
(4,	'TIQ3',	'Lexus.',	1993,	'CAMIONETA'),
(5,	'GRP7',	'Opel.',	1982,	'AUTOMOVIL'),
(6,	'RPS8',	'Lexus.',	1994,	'CAMIONETA'),
(7,	'NGW2',	'BMW.',	2014,	'AUTOMOVIL'),
(8,	'VRD9',	'Audi.',	2012,	'CAMIONETA'),
(9,	'IEN4',	'Mercedes-Benz.',	2018,	'CAMIONETA'),
(10,	'QMT5',	'Renault.',	2011,	'AUTOMOVIL'),
(11,	'VOR3',	'Lexus.',	2017,	'VAGONETA'),
(12,	'BGG7',	'BMW.',	1990,	'VAGONETA'),
(13,	'MPY2',	'Mercedes-Benz.',	2005,	'VAGONETA'),
(14,	'EEQ4',	'Ford.',	1993,	'VAGONETA'),
(15,	'WJD4',	'Renault.',	2012,	'AUTOMOVIL'),
(16,	'YYG0',	'Opel.',	2002,	'AUTOMOVIL'),
(17,	'NYP8',	'BMW.',	2007,	'AUTOMOVIL'),
(18,	'IJB3',	'Ford.',	1986,	'AUTOMOVIL'),
(19,	'DOO6',	'Lexus.',	2002,	'CAMIONETA'),
(20,	'VFB7',	'Audi.',	1993,	'VAGONETA'),
(21,	'LQG9',	'Audi.',	1995,	'CAMIONETA'),
(22,	'FKQ6',	'Audi.',	1992,	'VAGONETA'),
(23,	'YUR3',	'Mercedes-Benz.',	2011,	'AUTOMOVIL'),
(24,	'YVO1',	'Opel.',	1997,	'AUTOMOVIL'),
(25,	'DDV0',	'Lexus.',	1999,	'VAGONETA'),
(26,	'XSV3',	'Lexus.',	1986,	'VAGONETA'),
(27,	'QRF1',	'Lexus.',	1988,	'CAMIONETA'),
(28,	'FIT4',	'Opel.',	2005,	'VAGONETA'),
(29,	'JHB7',	'Opel.',	1988,	'CAMIONETA'),
(30,	'XBX2',	'Renault.',	1993,	'VAGONETA'),
(31,	'REL6',	'Audi.',	2001,	'VAGONETA'),
(32,	'XUL9',	'Seat.',	1986,	'CAMIONETA'),
(33,	'OPU0',	'Ford.',	2018,	'AUTOMOVIL'),
(34,	'GVD2',	'Renault.',	2011,	'AUTOMOVIL'),
(35,	'CKF3',	'Ford.',	2005,	'AUTOMOVIL'),
(36,	'QVD2',	'Mercedes-Benz.',	2015,	'CAMIONETA'),
(37,	'WIE4',	'Lexus.',	1996,	'AUTOMOVIL'),
(38,	'UAL5',	'Mercedes-Benz.',	1994,	'AUTOMOVIL'),
(39,	'EST1',	'BMW.',	2008,	'CAMIONETA'),
(40,	'PUX6',	'Ford.',	1986,	'CAMIONETA'),
(41,	'ELS2',	'BMW.',	1994,	'CAMIONETA'),
(42,	'COC1',	'Opel.',	2015,	'VAGONETA'),
(43,	'SBL7',	'Mercedes-Benz.',	1996,	'CAMIONETA'),
(44,	'JLX5',	'Opel.',	2014,	'CAMIONETA'),
(45,	'VQB5',	'Renault.',	2005,	'AUTOMOVIL'),
(46,	'UEN6',	'Lexus.',	2013,	'VAGONETA'),
(47,	'QSP7',	'Ford.',	2018,	'AUTOMOVIL'),
(48,	'CBO4',	'Ford.',	1990,	'CAMIONETA'),
(49,	'KUQ5',	'BMW.',	1988,	'CAMIONETA'),
(50,	'SJF4',	'Opel.',	2019,	'AUTOMOVIL'),
(51,	'HVR4',	'Ford.',	1991,	'AUTOMOVIL'),
(52,	'DSF',	'Mazda',	2001,	'AUTOMOVIL');

DROP TABLE IF EXISTS `Workshift`;
CREATE TABLE `Workshift` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) DEFAULT NULL,
  `start_time` time NOT NULL,
  `end_time` time NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

INSERT INTO `Workshift` (`id`, `name`, `start_time`, `end_time`) VALUES
(1,	'MAÑANA',	'08:00:00',	'12:00:00'),
(2,	'TARDE',	'13:00:00',	'18:00:00'),
(3,	'COMPLETO',	'08:00:00',	'17:00:00');

-- 2022-05-30 22:15:31
